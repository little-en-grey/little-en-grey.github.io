(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{303:function(e,t,n){"use strict";var l=n(3),r=n(204);l({target:"String",proto:!0,forced:n(205)("sub")},{sub:function(){return r(this,"sub","","")}})},318:function(e,t,n){"use strict";n.r(t);n(38);var l=n(135);var r=n(194),o=n(107);function c(e){return function(e){if(Array.isArray(e))return Object(l.a)(e)}(e)||Object(r.a)(e)||Object(o.a)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var d=n(12),m=(n(45),n(17),n(28),n(29),n(46),n(47),n(303),n(284)),v={name:"SplatoonRandom",layout:"game",asyncData:function(){return Object(d.a)(regeneratorRuntime.mark((function e(){var t,l,r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.e(26).then(n.t.bind(null,314,3));case 2:return t=e.sent,e.next=5,n.e(28).then(n.t.bind(null,315,3));case 5:return l=e.sent,e.next=8,n.e(27).then(n.t.bind(null,316,3));case 8:return r=e.sent,e.next=11,n.e(25).then(n.t.bind(null,317,3));case 11:return o=e.sent,e.abrupt("return",{allWeaponsData:t.default,allSubWeaponsData:l.default,allSpesialWeaponsData:r.default,allCategoriesData:o.default});case 13:case"end":return e.stop()}}),e)})))()},data:function(){return{maxCount:c(Array(9).keys()).slice(1),selectNumber:8,selectCategory:0,selectSubWeapon:0,selectSpesialWeapon:0,playerName:[],displayPlayerName:[],randomData:[],webhookUrl:null,checkSendDiscord:!1,snackbarFlag:!1,text:"送信完了！"}},methods:{getRandomData:function(){var e=this;this.displayPlayerName=this.playerName.slice();var t=this.allWeaponsData;this.selectSubWeapon&&(t=t.filter((function(t){return t.sub===e.selectSubWeapon}))),this.selectSpesialWeapon&&(t=t.filter((function(t){return t.special===e.selectSpesialWeapon}))),this.selectCategory&&(t=t.filter((function(t){return t.category===e.selectCategory}))),this.randomData=this.getRandomItems(t,this.selectNumber),this.checkSendDiscord&&this.sendDiscord(!1)},getRandomItems:function(e,t){for(var data=[],n=e.length,i=0;i<t;i++){var l=Math.floor(Math.random()*n);data.push(e[l])}return data},sendTest:function(){this.checkSendDiscord?this.webhookUrl?this.sendDiscord(!0):(this.snackbarFlag=!0,this.text="URLが入力されていません"):(this.snackbarFlag=!0,this.text="送信するにチェックがありません")},sendDiscord:function(e){var t=this,n="";if(e)n="これはテスト送信です!!";else{n="◇武器ルーレット\n```";for(var i=0;i<this.randomData.length;i++){var l;n+=(null!==(l=this.displayPlayerName[i])&&void 0!==l?l:"参加者"+(i+1))+" ： "+this.randomData[i].name+"\n",console.log(this.randomData[i].name)}n+="``` ----------"}var r={content:n};m.a.post(this.webhookUrl,r).then((function(e){console.log("Message sent:",e.data),t.snackbarFlag=!0,t.text="送信に成功しました"})).catch((function(e){console.error("Error sending message:",e),t.snackbarFlag=!0,t.text="送信に失敗しました"}))}}},h=n(27),component=Object(h.a)(v,(function(){var e=this,t=e._self._c;return t("div",[t("v-row",{attrs:{justify:"start"}},[t("v-col",{attrs:{cols:"12"}},[t("v-select",{attrs:{items:e.maxCount,density:"compact",label:"人数"},model:{value:e.selectNumber,callback:function(t){e.selectNumber=t},expression:"selectNumber"}})],1)],1),e._v(" "),t("v-row",{attrs:{justify:"start"}},[e._l(e.selectNumber,(function(n){return t("v-col",{key:n,attrs:{cols:"6"}},[t("v-text-field",{attrs:{label:"参加者"+n},model:{value:e.playerName[n-1],callback:function(t){e.$set(e.playerName,n-1,t)},expression:"playerName[n-1]"}})],1)})),e._v(" "),t("v-col",{attrs:{cols:"12"}},[t("v-select",{attrs:{items:e.allCategoriesData,"item-text":"name","item-value":"id",density:"compact",label:"ブキカテゴリ"},model:{value:e.selectCategory,callback:function(t){e.selectCategory=t},expression:"selectCategory"}})],1),e._v(" "),t("v-col",{attrs:{cols:"12"}},[t("v-select",{attrs:{items:e.allSubWeaponsData,"item-text":"name","item-value":"id",density:"compact",label:"サブウェポン"},model:{value:e.selectSubWeapon,callback:function(t){e.selectSubWeapon=t},expression:"selectSubWeapon"}})],1),e._v(" "),t("v-col",{attrs:{cols:"12"}},[t("v-select",{attrs:{items:e.allSpesialWeaponsData,"item-text":"name","item-value":"id",density:"compact",label:"スペシャルウェポン"},model:{value:e.selectSpesialWeapon,callback:function(t){e.selectSpesialWeapon=t},expression:"selectSpesialWeapon"}})],1),e._v(" "),t("v-col",{staticClass:"md-1",attrs:{cols:"12"}},[t("v-checkbox",{attrs:{label:"Discordに結果を送信"},model:{value:e.checkSendDiscord,callback:function(t){e.checkSendDiscord=t},expression:"checkSendDiscord"}})],1),e._v(" "),t("v-col",{attrs:{cols:"6"}},[t("v-btn",{on:{click:function(t){return e.sendTest()}}},[e._v("テスト送信")])],1),e._v(" "),t("v-col",{attrs:{cols:"12"}},[t("v-text-field",{attrs:{label:"Webhook URL"},model:{value:e.webhookUrl,callback:function(t){e.webhookUrl=t},expression:"webhookUrl"}})],1),e._v(" "),t("v-col",{attrs:{cols:"12"}},[t("v-btn",{on:{click:function(t){return e.getRandomData()}}},[e._v("ルーレットスタート!!")])],1),e._v(" "),e._l(e.randomData,(function(n,l){var r;return[t("v-col",{key:l,attrs:{cols:"12",sm:"8",md:"6"}},[e._v("   "+e._s(null!==(r=e.displayPlayerName[l])&&void 0!==r?r:"参加者"+(l+1))+" ： "+e._s(n.name)+"\n            ")])]}))],2),e._v(" "),t("v-snackbar",{scopedSlots:e._u([{key:"action",fn:function(n){var l=n.attrs;return[t("v-btn",e._b({attrs:{color:"pink",text:""},on:{click:function(t){e.snackbarFlag=!1}}},"v-btn",l,!1),[e._v("\n            Close\n            ")])]}}]),model:{value:e.snackbarFlag,callback:function(t){e.snackbarFlag=t},expression:"snackbarFlag"}},[e._v("\n        "+e._s(e.text)+"\n\n        ")])],1)}),[],!1,null,null,null);t.default=component.exports}}]);